<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.78.2" />
    <meta name="description" content="Hands on labs and real world design scenarios for Well-Architected workloads">
<meta name="author" content="Seyong Kang">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Test Resiliency Using Availability Zone (AZ) Failure Injection :: AWS Well-Architected Labs</title>

    
    <link href="/css/nucleus.css?1605671887" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1605671887" rel="stylesheet">
    <link href="/css/hybrid.css?1605671887" rel="stylesheet">
    <link href="/css/featherlight.min.css?1605671887" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1605671887" rel="stylesheet">
    <link href="/css/auto-complete.css?1605671887" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1605671887" rel="stylesheet">
    <link href="/css/theme.css?1605671887" rel="stylesheet">
    <link href="/css/hugo-theme.css?1605671887" rel="stylesheet">
    
    <link href="/css/theme-walabs.css?1605671887" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1605671887"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/reliability/test_resiliency/6_failure_injection_az/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/">
  <img src="/images/wa.png" alt="Well-Architected Labs">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1605671887"></script>
<script type="text/javascript" src="/js/auto-complete.js?1605671887"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1605671887"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    
    
    <li data-nav-id="/introduction/" title="Introduce" class="dd-item
    
        
        ">
      <a href="/introduction/">
          <b>1. </b>Introduce
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/introduction/framework/" title="Why AWS-Well-Architected Framework?" class="dd-item
    
        
        ">
      <a href="/introduction/framework/">
          <b>1-1 </b>Why AWS-Well-Architected Framework?
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/introduction/pillar/" title="The Five Pillars of the Framework" class="dd-item
    
        
        ">
      <a href="/introduction/pillar/">
          <b>1-2 </b>The Five Pillars of the Framework
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/setup/" title="Setup" class="dd-item
    
        
        ">
      <a href="/setup/">
          <b>2. </b>Setup
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/cloud9/" title="Cloud9" class="dd-item
    
        
        ">
      <a href="/setup/cloud9/">
          <b>2-1. </b>Cloud9
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/lab-setup-master/" title="CloudFormation Deploy" class="dd-item
    
        
        ">
      <a href="/setup/lab-setup-master/">
          <b>2-2. </b>CloudFormation Deploy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/wellarchitectedtools/" title="Start AWS Well-Architected Review using Well-Architected tool" class="dd-item
    
        
        ">
      <a href="/setup/wellarchitectedtools/">
          <b>2-3. </b>Start AWS Well-Architected Review using Well-Architected tool
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/2_create_workload/" title="Creating a workload" class="dd-item ">
        <a href="/setup/wellarchitectedtools/2_create_workload/">
        <b>1. </b>Creating a workload
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/3_perform_review/" title="Performing a review" class="dd-item ">
        <a href="/setup/wellarchitectedtools/3_perform_review/">
        <b>2. </b>Performing a review
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/4_save_milestone/" title="Saving a milestone" class="dd-item ">
        <a href="/setup/wellarchitectedtools/4_save_milestone/">
        <b>3. </b>Saving a milestone
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/5_view_report/" title="Viewing and downloading the report" class="dd-item ">
        <a href="/setup/wellarchitectedtools/5_view_report/">
        <b>4. </b>Viewing and downloading the report
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/" title="Performance Efficiency" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/">
          <b>3. </b>Performance Efficiency
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/" title="Monitoring using the CloudWatch dashboard" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/">
          <b>3-1. </b>Monitoring using the CloudWatch dashboard
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/default-dashboard/" title="View Amazon CloudWatch Automatic Dashboards" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/default-dashboard/">
          <b>1. </b>View Amazon CloudWatch Automatic Dashboards
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/setup/" title="CloudWatch Custom Dashboard" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/setup/">
          <b>2. </b>CloudWatch Custom Dashboard
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/" title="CPU Alram using the CloudWatch" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/">
          <b>3-2. </b>CPU Alram using the CloudWatch
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/setup/" title="Custom Alram Configuration" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/setup/">
          <b>1. </b>Custom Alram Configuration
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/snstopic/" title="Subscribe e-mail and mobile number" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/snstopic/">
          <b>2. </b>Subscribe e-mail and mobile number
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/ec2/" title="EC2 Loadtest" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/ec2/">
          <b>3. </b>EC2 Loadtest
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/cost/" title="Cost Optimization" class="dd-item
    
        
        ">
      <a href="/cost/">
          <b>4. </b>Cost Optimization
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/cost/100_aws_resource_optimization/" title="EC2 Right Sizing" class="dd-item
    
        
        ">
      <a href="/cost/100_aws_resource_optimization/">
          <b>4-1. </b>EC2 Right Sizing
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/1_cloudwatch_intro/" title="Getting to know Amazon Cloudwatch" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/1_cloudwatch_intro/">
        <b>1. </b>Getting to know Amazon Cloudwatch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/2_resource_opt/" title="Using Amazon EC2 Resource Optimization Recommendations" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/2_resource_opt/">
        <b>2. </b>Using Amazon EC2 Resource Optimization Recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/3_prio_resource_opt/" title="Download the Amazon EC2 Resource Optimization CSV File and sort it to find quick wins" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/3_prio_resource_opt/">
        <b>3. </b>Download the Amazon EC2 Resource Optimization CSV File and sort it to find quick wins
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/4_act_resource_opt/" title="Action the recommendations" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/4_act_resource_opt/">
        <b>4. </b>Action the recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/5_ec2_rs_best_practices/" title="Amazon EC2 Right Sizing Best Practices" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/5_ec2_rs_best_practices/">
        <b>5. </b>Amazon EC2 Right Sizing Best Practices
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/6_tear_down/" title="Tear down" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/6_tear_down/">
        <b>6. </b>Tear down
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/cost/200_aws_resource_optimization/" title="EC2 Right Sizing(MEM)" class="dd-item
    
        
        ">
      <a href="/cost/200_aws_resource_optimization/">
          <b>4-2. </b>EC2 Right Sizing(MEM)
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/2_create_iamrole/" title="Getting to know Amazon Cloudwatch" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/2_create_iamrole/">
        <b>1. </b>Getting to know Amazon Cloudwatch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/3_attach_iamrole/" title="Attach CloudWatch IAM role to selected EC2 Instances" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/3_attach_iamrole/">
        <b>2. </b>Attach CloudWatch IAM role to selected EC2 Instances
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/4_memory_plugin/" title="Cloudwatch Agent Manual Install" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/4_memory_plugin/">
        <b>3. </b>Cloudwatch Agent Manual Install
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/5_ec2_updated_rec/" title="Updated Amazon EC2 Resource Optimization recommendations" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/5_ec2_updated_rec/">
        <b>4. </b>Updated Amazon EC2 Resource Optimization recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/6_ec2_rs_best_practices/" title="Amazon EC2 Right Sizing Best Practices" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/6_ec2_rs_best_practices/">
        <b>5. </b>Amazon EC2 Right Sizing Best Practices
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/7_tear_down/" title="Tear down" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/7_tear_down/">
        <b>6. </b>Tear down
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/operational-excellence/" title="Operation Excellence" class="dd-item
    
        
        ">
      <a href="/operational-excellence/">
          <b>5. </b>Operation Excellence
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/systemmanager/" title="AWS Systems Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/systemmanager/">
          <b>5-1. </b>AWS Systems Manager
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/systemmanager/prepare/" title="Prepare" class="dd-item
    
        
        ">
      <a href="/operational-excellence/systemmanager/prepare/">
          <b>1. </b>Prepare
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/" title="Resource Management" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/">
          <b>5-2. </b>Resource Management
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/inventorysetup/" title="Inventory" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/inventorysetup/">
          <b>1. </b>Inventory
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/statemanager/" title="State Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/statemanager/">
          <b>2. </b>State Manager
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/" title="Patch Management" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/">
          <b>5-3. </b>Patch Management
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/patchmanager/" title="Patch Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/patchmanager/">
          <b>1. </b>Patch Manager
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/awsrunpatchbaseline/" title="Run Command" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/awsrunpatchbaseline/">
          <b>2. </b>Run Command
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/reliability/" title="Reliability" class="dd-item
    parent
        
        ">
      <a href="/reliability/">
          <b>6. </b>Reliability
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/reliability/test_resiliency/" title="Testing for Resiliency of EC2, RDS, and AZ" class="dd-item
    parent
        
        ">
      <a href="/reliability/test_resiliency/">
          Test Resiliency EC2, RDS, &amp; AZ
          
            
              <i class="fas fa-caret-down"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/3_failure_injection_prep/" title="Preparation for Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/3_failure_injection_prep/">
        <b>1. </b>Preparation for Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/4_failure_injection_ec2/" title="Test Resiliency Using EC2 Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/4_failure_injection_ec2/">
        <b>2. </b>EC2 Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/5_failure_injection_rds/" title="Test Resiliency Using RDS Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/5_failure_injection_rds/">
        <b>3. </b>RDS Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/6_failure_injection_az/" title="Test Resiliency Using Availability Zone (AZ) Failure Injection" class="dd-item active">
        <a href="/reliability/test_resiliency/6_failure_injection_az/">
        <b>4. </b>AZ Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/security/" title="Security" class="dd-item
    
        
        ">
      <a href="/security/">
          <b>7. </b>Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/security/200_cloudfront_with_waf_protection/" title="CloudFront with WAF Protection" class="dd-item
    
        
        ">
      <a href="/security/200_cloudfront_with_waf_protection/">
          CloudFront with WAF Protection
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/security/200_cloudfront_with_waf_protection/1_config_waf/" title="AWS WAF Config" class="dd-item ">
        <a href="/security/200_cloudfront_with_waf_protection/1_config_waf/">
        <b>1. </b>AWS WAF Config
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security/200_cloudfront_with_waf_protection/2_config_cloudfront/" title="CloudFront Config - EC2 or Load Balancer" class="dd-item ">
        <a href="/security/200_cloudfront_with_waf_protection/2_config_cloudfront/">
        <b>2. </b>CloudFront Config - EC2 or Load Balancer
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/review/" title="Review Again(Machanism)" class="dd-item
    
        
        ">
      <a href="/review/">
          <b>8. </b>Review Again(Machanism)
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/review/1_reviewagine/" title="Again AWS Well-Architected Review using Well-Architected tool" class="dd-item ">
        <a href="/review/1_reviewagine/">
        Again AWS Well-Architected Review using Well-Architected tool
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/free/"><i class='fas fa-bookmark'></i> Amazon Free Tier</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/"><i class='fab fa-aws'></i> AWS Homepage</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/architecture/well-architected/?nc1=h_ls&amp;wa-lens-whitepapers.sort-by=item.additionalFields.sortDate&amp;wa-lens-whitepapers.sort-order=desc"><i class='fab fa-aws'></i> AWS Well-Architected Framework</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/reliability/test_resiliency/6_failure_injection_az/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="ko" value="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/ko/reliability/test_resiliency/6_failure_injection_az/">한국어</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

    
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <h2 class="github-title">Github Repo</h2>

    <h3 class="github-title">Well-Architected HOL</h3>
    <a class="github-button" href="https://github.com/sykang169/aws-well-architected-labs-kor" data-icon="octicon-star" data-show-count="true" aria-label="Star on GitHub">Star</a>
    &nbsp;<a class="github-button" href="https://github.com/sykang169/aws-well-architected-labs-kor" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork on GitHub">Fork</a><br />


    <br>
      
    

    <a href="https://aws.amazon.com/ko/privacy/">Privacy</a> | <a href="https://aws.amazon.com/terms/">Site terms</a> | © 2020, Amazon Web Services, Inc. or its affiliates. All rights reserved.
      
     

</left>




<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/sykang169/aws-well-architected-labs-kor/reliability/test_resiliency/6_failure_injection_az.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Home</a> > <a href='/reliability/'>Reliability</a> > <a href='/reliability/test_resiliency/'>Testing for Resiliency of EC2, RDS, and AZ</a> > Test Resiliency Using Availability Zone (AZ) Failure Injection
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#61-az-failure-injection">6.1 AZ failure injection</a></li>
        <li><a href="#62-system-response-to-az-failure">6.2 System response to AZ failure</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Test Resiliency Using Availability Zone (AZ) Failure Injection
            </h1>
          

        


<h3 id="61-az-failure-injection">6.1 AZ failure injection</h3>
<p>This failure injection will simulate a critical problem with one of the three AWS Availability Zones (AZs) used by your service. AWS Availability Zones are  powerful tools for helping build highly available applications. If an application is partitioned across AZs, companies are better isolated and protected from issues such as lightning strikes, tornadoes, earthquakes and more.</p>
<ol>
<li>Go to the RDS Dashboard in the AWS Console at <a href="http://console.aws.amazon.com/rds">http://console.aws.amazon.com/rds</a> and note which Availability Zone the AWS RDS <em>primary</em> DB instance is in.
<ul>
<li><strong>Note</strong>: If you previously ran the <strong>RDS Failure Injection test</strong>, you must wait until the console shows the AZs for the <em>primary</em> and <em>standby</em> instances as swapped, before running this test</li>
<li>A good way to run the AZ failure injection is first in an AZ <em>other</em> than this - we&rsquo;ll call this <strong>Scenario 1</strong></li>
<li>Then try it again in the <em>same</em> AZ as the AWS RDS <em>primary</em> DB instance - we&rsquo;ll call this <strong>Scenario 2</strong></li>
<li>Taking down two out of the three AZs this way is an unlikely use case, however it will show how AWS systems work to maintain service integrity despite extreme circumstances.</li>
<li>And executing this way illustrates the impact and response under the two different scenarios.</li>
</ul>
</li>
</ol>

<div class="notices note" ><p>This lab example is us-east-2, if you use another region, consider region and AZ name.</p>
</div>

<ol>
<li>
<p>To simulate failure of an AZ, select one of the Availability Zones used by your service (<code>us-east-2a</code>, <code>us-east-2b</code>, or <code>us-east-2c</code>) as <code>&lt;az&gt;</code></p>
<ul>
<li>For <strong>scenario 1</strong> select an AZ that is neither <em>primary</em> nor <em>secondary</em> for your RDS DB instance. Given the following RDS console you would choose <code>us-east-2c</code></li>
<li>For <strong>scenario 2</strong> select the AZ that is <em>primary</em> for your RDS DB instance. Given the following RDS console you would choose <code>us-east-2b</code></li>
</ul>
<p><img src="/Reliability/300_Testing_for_Resiliency_of_EC2_RDS_and_S3/Images/DBConfigurationShort.png" alt="DBConfigurationShort"></p>
</li>
<li>
<p>To fail one of your AZ, run the script below using your VPC ID in Cloud9&rsquo;s terminal. Replace &lt;vpc-id&gt; with the VPC ID you copyed before.
and replace &lt;az&gt; with the your az.</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./failover_az.sh &lt;az&gt; &lt;vpc-id&gt;
</code></pre></div><ol>
<li>The specific output will vary based on the command used.
<ul>
<li>Note whether an RDS failover was initiated.  This would be the case if you selected the AZ containing the AWS RDS <em>primary</em> DB instance</li>
</ul>
</li>
</ol>
<h3 id="62-system-response-to-az-failure">6.2 System response to AZ failure</h3>
<p>Watch how the service responds. Note how AWS systems help maintain service availability. Test if there is any non-availability, and if so then how long.</p>
<h4 id="621-system-availability">6.2.1 System availability</h4>
<p>Refresh the service website several times</p>
<ul>
<li><strong>Scenario 1</strong>: If you selected an AZ <em>not</em> containing the AWS RDS <em>primary</em> DB instance then you should see uninterrupted availability</li>
<li><strong>Scenario 2</strong>: If you selected the AZ containing the AWS RDS <em>primary</em> DB instance, then an availability loss similar to what you saw with RDS fault injection testing will occur.</li>
</ul>
<h4 id="622-scenario-1---load-balancer-and-web-server-tiers">6.2.2 Scenario 1 - Load balancer and web server tiers</h4>
<p>This scenario is similar to the EC2 failure injection test because there is only one EC2 server per AZ in our architecture. Look at the same screens you as for that test:</p>
<ul>
<li><a href="http://console.aws.amazon.com/ec2/v2/home?region=us-east-2#Instances:">EC2 Instances</a></li>
<li>Load Balancer <a href="http://console.aws.amazon.com/ec2/v2/home?region=us-east-2#TargetGroups:">Target group</a></li>
<li><a href="http://console.aws.amazon.com/ec2/autoscaling/home?region=us-east-2#AutoScalingGroups:">Auto Scaling Groups</a></li>
</ul>
<p>One difference from the EC2 failure test that you will observe is that auto scaling will bring up the replacement EC2 instance in an AZ that already has an EC2 instance as it attempts to balance the requested three EC2 instances across the remaining AZs.</p>
<h4 id="623-scenario-2---load-balancer-web-server-and-data-tiers">6.2.3 Scenario 2 - Load balancer, web server, and data tiers</h4>
<p>This scenario is similar to a combination of the RDS failure injection along with EC2 failure injection. In addition to the EC2 related screens look at the <a href="http://console.aws.amazon.com/rds">Amazon RDS console</a>, navigate to your DB screen and observe the following tabs:</p>
<ul>
<li>Configuration</li>
<li>Monitoring</li>
<li>Logs &amp; Events</li>
</ul>
<h4 id="624-az-failure-injection---conclusion">6.2.4 AZ failure injection - conclusion</h4>
<p>This similarity between <strong>scenario 1</strong> and the EC2 failure test, and between <strong>scenario 2</strong> and the RDS failure test is illustrative of how an AZ failure impacts your system. The resources in that AZ will have no or limited availability. With the strong partitioning and isolation between Availability Zones however, resources in the other AZs continue to provide your service with needed functionality. <strong>Scenario 1</strong> results in loss of the load balancer and web server capabilities in one AZ, while <strong>Scenario 2</strong> adds to that the additional loss of the data tier. By ensuring that every tier of your system is in multiple AZs, you create a partitioned architecture resilient to failure.</p>
<h4 id="625-az-failure-recovery">6.2.5 AZ failure recovery</h4>
<p>This step is optional. To simulate the AZ returning to health do the following:</p>
<ol>
<li>Go to the <a href="http://console.aws.amazon.com/ec2/autoscaling/home?region=us-east-2#AutoScalingGroups:">Auto Scaling Group console</a></li>
<li>Select the <strong>WebServersforResiliencyTesting</strong> auto scaling group</li>
<li>Actions &raquo; Edit</li>
<li>In the <strong>Subnet</strong> field add any <strong>ResiliencyVPC-PrivateSubnet</strong>s that are missing (there should be three total) and <strong>Save</strong></li>
<li>Go to the <a href="https://us-east-2.console.aws.amazon.com/vpc/home?region=us-east-2#acls:">Network ACL console</a></li>
<li>Look at the NACL entries for the VPC called <strong>ResiliencyVPC</strong></li>
<li>For any of these NACLs that are <em>not</em> <em>Default</em> do the following
<ol>
<li>Select the NACL</li>
<li><strong>Actions</strong> &raquo; <strong>Edit subnet associations</strong></li>
<li>Uncheck all boxes and click <strong>Edit</strong></li>
<li><strong>Actions</strong> &raquo; <strong>Delete network ACL</strong></li>
</ol>
</li>
</ol>
<ul>
<li>Note how the auto scaling redistributes the EC2 serves across the availability zones</li>
</ul>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/reliability/test_resiliency/5_failure_injection_rds/" title="Test Resiliency Using RDS Failure Injection"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/security/" title="Security" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1605671887"></script>
    <script src="/js/perfect-scrollbar.min.js?1605671887"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1605671887"></script>
    <script src="/js/jquery.sticky.js?1605671887"></script>
    <script src="/js/featherlight.min.js?1605671887"></script>
    <script src="/js/highlight.pack.js?1605671887"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1605671887"></script>
    <script src="/js/learn.js?1605671887"></script>
    <script src="/js/hugo-learn.js?1605671887"></script>

    <link href="/mermaid/mermaid.css?1605671887" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1605671887"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

