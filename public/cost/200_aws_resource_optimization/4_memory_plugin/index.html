<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.78.2" />
    <meta name="description" content="Hands on labs and real world design scenarios for Well-Architected workloads">
<meta name="author" content="Seyong Kang">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Cloudwatch Agent Manual Install :: AWS Well-Architected Labs</title>

    
    <link href="/css/nucleus.css?1605801280" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1605801280" rel="stylesheet">
    <link href="/css/hybrid.css?1605801280" rel="stylesheet">
    <link href="/css/featherlight.min.css?1605801280" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1605801280" rel="stylesheet">
    <link href="/css/auto-complete.css?1605801280" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1605801280" rel="stylesheet">
    <link href="/css/theme.css?1605801280" rel="stylesheet">
    <link href="/css/hugo-theme.css?1605801280" rel="stylesheet">
    
    <link href="/css/theme-walabs.css?1605801280" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1605801280"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/cost/200_aws_resource_optimization/4_memory_plugin/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/">
  <img src="/images/wa.png" alt="Well-Architected Labs">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1605801280"></script>
<script type="text/javascript" src="/js/auto-complete.js?1605801280"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1605801280"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    
    
    <li data-nav-id="/introduction/" title="Introduce" class="dd-item
    
        
        ">
      <a href="/introduction/">
          <b>1. </b>Introduce
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/introduction/framework/" title="Why AWS-Well-Architected Framework?" class="dd-item
    
        
        ">
      <a href="/introduction/framework/">
          <b>1-1 </b>Why AWS-Well-Architected Framework?
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/introduction/pillar/" title="The Five Pillars of the Framework" class="dd-item
    
        
        ">
      <a href="/introduction/pillar/">
          <b>1-2 </b>The Five Pillars of the Framework
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/setup/" title="Setup" class="dd-item
    
        
        ">
      <a href="/setup/">
          <b>2. </b>Setup
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/cloud9/" title="Cloud9" class="dd-item
    
        
        ">
      <a href="/setup/cloud9/">
          <b>2-1. </b>Cloud9
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/lab-setup-master/" title="CloudFormation Deploy" class="dd-item
    
        
        ">
      <a href="/setup/lab-setup-master/">
          <b>2-2. </b>CloudFormation Deploy
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/setup/wellarchitectedtools/" title="Start AWS Well-Architected Review using Well-Architected tool" class="dd-item
    
        
        ">
      <a href="/setup/wellarchitectedtools/">
          <b>2-3. </b>Start AWS Well-Architected Review using Well-Architected tool
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/2_create_workload/" title="Creating a workload" class="dd-item ">
        <a href="/setup/wellarchitectedtools/2_create_workload/">
        <b>1. </b>Creating a workload
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/3_perform_review/" title="Performing a review" class="dd-item ">
        <a href="/setup/wellarchitectedtools/3_perform_review/">
        <b>2. </b>Performing a review
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/4_save_milestone/" title="Saving a milestone" class="dd-item ">
        <a href="/setup/wellarchitectedtools/4_save_milestone/">
        <b>3. </b>Saving a milestone
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/setup/wellarchitectedtools/5_view_report/" title="Viewing and downloading the report" class="dd-item ">
        <a href="/setup/wellarchitectedtools/5_view_report/">
        <b>4. </b>Viewing and downloading the report
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/" title="Performance Efficiency" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/">
          <b>3. </b>Performance Efficiency
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/" title="Monitoring using the CloudWatch dashboard" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/">
          <b>3-1. </b>Monitoring using the CloudWatch dashboard
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/default-dashboard/" title="View Amazon CloudWatch Automatic Dashboards" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/default-dashboard/">
          <b>1. </b>View Amazon CloudWatch Automatic Dashboards
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatchdashboards/setup/" title="CloudWatch Custom Dashboard" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatchdashboards/setup/">
          <b>2. </b>CloudWatch Custom Dashboard
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/" title="CPU Alram using the CloudWatch" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/">
          <b>3-2. </b>CPU Alram using the CloudWatch
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/setup/" title="Custom Alram Configuration" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/setup/">
          <b>1. </b>Custom Alram Configuration
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/snstopic/" title="Subscribe e-mail and mobile number" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/snstopic/">
          <b>2. </b>Subscribe e-mail and mobile number
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/performanceefficiency/cloudwatcheventemail/ec2/" title="EC2 Loadtest" class="dd-item
    
        
        ">
      <a href="/performanceefficiency/cloudwatcheventemail/ec2/">
          <b>3. </b>EC2 Loadtest
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/cost/" title="Cost Optimization" class="dd-item
    parent
        
        ">
      <a href="/cost/">
          <b>4. </b>Cost Optimization
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/cost/100_aws_resource_optimization/" title="EC2 Right Sizing" class="dd-item
    
        
        ">
      <a href="/cost/100_aws_resource_optimization/">
          <b>4-1. </b>EC2 Right Sizing
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/1_cloudwatch_intro/" title="Getting to know Amazon Cloudwatch" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/1_cloudwatch_intro/">
        <b>1. </b>Getting to know Amazon Cloudwatch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/2_resource_opt/" title="Using Amazon EC2 Resource Optimization Recommendations" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/2_resource_opt/">
        <b>2. </b>Using Amazon EC2 Resource Optimization Recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/3_prio_resource_opt/" title="Download the Amazon EC2 Resource Optimization CSV File and sort it to find quick wins" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/3_prio_resource_opt/">
        <b>3. </b>Download the Amazon EC2 Resource Optimization CSV File and sort it to find quick wins
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/4_act_resource_opt/" title="Action the recommendations" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/4_act_resource_opt/">
        <b>4. </b>Action the recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/5_ec2_rs_best_practices/" title="Amazon EC2 Right Sizing Best Practices" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/5_ec2_rs_best_practices/">
        <b>5. </b>Amazon EC2 Right Sizing Best Practices
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/100_aws_resource_optimization/6_tear_down/" title="Tear down" class="dd-item ">
        <a href="/cost/100_aws_resource_optimization/6_tear_down/">
        <b>6. </b>Tear down
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/cost/200_aws_resource_optimization/" title="EC2 Right Sizing(MEM)" class="dd-item
    parent
        
        ">
      <a href="/cost/200_aws_resource_optimization/">
          <b>4-2. </b>EC2 Right Sizing(MEM)
          
            
              <i class="fas fa-caret-down"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/2_create_iamrole/" title="Getting to know Amazon Cloudwatch" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/2_create_iamrole/">
        <b>1. </b>Getting to know Amazon Cloudwatch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/3_attach_iamrole/" title="Attach CloudWatch IAM role to selected EC2 Instances" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/3_attach_iamrole/">
        <b>2. </b>Attach CloudWatch IAM role to selected EC2 Instances
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/4_memory_plugin/" title="Cloudwatch Agent Manual Install" class="dd-item active">
        <a href="/cost/200_aws_resource_optimization/4_memory_plugin/">
        <b>3. </b>Cloudwatch Agent Manual Install
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/5_ec2_updated_rec/" title="Updated Amazon EC2 Resource Optimization recommendations" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/5_ec2_updated_rec/">
        <b>4. </b>Updated Amazon EC2 Resource Optimization recommendations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/6_ec2_rs_best_practices/" title="Amazon EC2 Right Sizing Best Practices" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/6_ec2_rs_best_practices/">
        <b>5. </b>Amazon EC2 Right Sizing Best Practices
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cost/200_aws_resource_optimization/7_tear_down/" title="Tear down" class="dd-item ">
        <a href="/cost/200_aws_resource_optimization/7_tear_down/">
        <b>6. </b>Tear down
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/operational-excellence/" title="Operational Excellence" class="dd-item
    
        
        ">
      <a href="/operational-excellence/">
          <b>5. </b>Operational Excellence
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/systemmanager/" title="AWS Systems Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/systemmanager/">
          <b>5-1. </b>AWS Systems Manager
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/systemmanager/prepare/" title="Prepare" class="dd-item
    
        
        ">
      <a href="/operational-excellence/systemmanager/prepare/">
          <b>1. </b>Prepare
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/" title="Resource Management" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/">
          <b>5-2. </b>Resource Management
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/inventorysetup/" title="Inventory" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/inventorysetup/">
          <b>1. </b>Inventory
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/inventory/statemanager/" title="State Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/inventory/statemanager/">
          <b>2. </b>State Manager
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/" title="Patch Management" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/">
          <b>5-3. </b>Patch Management
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/patchmanager/" title="Patch Manager" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/patchmanager/">
          <b>1. </b>Patch Manager
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
            
            


 
  
    
    
    
    <li data-nav-id="/operational-excellence/patch/awsrunpatchbaseline/" title="Run Command" class="dd-item
    
        
        ">
      <a href="/operational-excellence/patch/awsrunpatchbaseline/">
          <b>2. </b>Run Command
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/reliability/" title="Reliability" class="dd-item
    
        
        ">
      <a href="/reliability/">
          <b>6. </b>Reliability
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/reliability/test_resiliency/" title="Testing for Resiliency of EC2, RDS, and AZ" class="dd-item
    
        
        ">
      <a href="/reliability/test_resiliency/">
          Test Resiliency EC2, RDS, &amp; AZ
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/3_failure_injection_prep/" title="Preparation for Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/3_failure_injection_prep/">
        <b>1. </b>Preparation for Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/4_failure_injection_ec2/" title="Test Resiliency Using EC2 Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/4_failure_injection_ec2/">
        <b>2. </b>EC2 Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/5_failure_injection_rds/" title="Test Resiliency Using RDS Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/5_failure_injection_rds/">
        <b>3. </b>RDS Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/reliability/test_resiliency/6_failure_injection_az/" title="Test Resiliency Using Availability Zone (AZ) Failure Injection" class="dd-item ">
        <a href="/reliability/test_resiliency/6_failure_injection_az/">
        <b>4. </b>AZ Failure Injection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/security/" title="Security" class="dd-item
    
        
        ">
      <a href="/security/">
          <b>7. </b>Security
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    
    
    <li data-nav-id="/security/200_cloudfront_with_waf_protection/" title="CloudFront with WAF Protection" class="dd-item
    
        
        ">
      <a href="/security/200_cloudfront_with_waf_protection/">
          CloudFront with WAF Protection
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/security/200_cloudfront_with_waf_protection/1_config_waf/" title="AWS WAF Config" class="dd-item ">
        <a href="/security/200_cloudfront_with_waf_protection/1_config_waf/">
        <b>1. </b>AWS WAF Config
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security/200_cloudfront_with_waf_protection/2_config_cloudfront/" title="CloudFront Config - EC2 or Load Balancer" class="dd-item ">
        <a href="/security/200_cloudfront_with_waf_protection/2_config_cloudfront/">
        <b>2. </b>CloudFront Config - EC2 or Load Balancer
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    
    
    <li data-nav-id="/review/" title="Review Again(Machanism)" class="dd-item
    
        
        ">
      <a href="/review/">
          <b>8. </b>Review Again(Machanism)
          
          
            <i class="fas read-icon"></i>
          
      </a>
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/review/1_reviewagine/" title="Again AWS Well-Architected Review using Well-Architected tool" class="dd-item ">
        <a href="/review/1_reviewagine/">
        Again AWS Well-Architected Review using Well-Architected tool
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/free/"><i class='fas fa-bookmark'></i> Amazon Free Tier</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/"><i class='fab fa-aws'></i> AWS Homepage</a>
              </li>
          
              <li>
                  <a class="padding" href="https://aws.amazon.com/architecture/well-architected/?nc1=h_ls&amp;wa-lens-whitepapers.sort-by=item.additionalFields.sortDate&amp;wa-lens-whitepapers.sort-order=desc"><i class='fab fa-aws'></i> AWS Well-Architected Framework</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/cost/200_aws_resource_optimization/4_memory_plugin/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="ko" value="http://wellarchitected.workshop.kr.s3-website-us-west-2.amazonaws.com/ko/cost/200_aws_resource_optimization/4_memory_plugin/">한국어</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

    
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <h2 class="github-title">Github Repo</h2>

    <h3 class="github-title">Well-Architected HOL</h3>
    <a class="github-button" href="https://github.com/sykang169/aws-well-architected-labs-kor" data-icon="octicon-star" data-show-count="true" aria-label="Star on GitHub">Star</a>
    &nbsp;<a class="github-button" href="https://github.com/sykang169/aws-well-architected-labs-kor" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork on GitHub">Fork</a><br />


    <br>
      
    

    <a href="https://aws.amazon.com/ko/privacy/">Privacy</a> | <a href="https://aws.amazon.com/terms/">Site terms</a> | © 2020, Amazon Web Services, Inc. or its affiliates. All rights reserved.
      
     

</left>




<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/sykang169/aws-well-architected-labs-kor/Cost/200_aws_resource_optimization/4_memory_plugin.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Home</a> > <a href='/cost/'>Cost Optimization</a> > <a href='/cost/200_aws_resource_optimization/'>EC2 Right Sizing(MEM)</a> > Cloudwatch Agent Manual Install
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Cloudwatch Agent Manual Install
            </h1>
          

        


<ol>
<li>
<p>We are now going to manually install the <strong>CloudWatch agent</strong> to start collecting memory data, to start let&rsquo;s go back to the <strong>Amazon EC2 Dashboard</strong>.
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall01.png" alt="Images/MemInstall01.png"></p>
</li>
<li>
<p>Check EC2 connect infomation which <code>CloudWatchAgentServerRole</code> IAM role attached. Select EC2 instance which attached IAM role and Click Connect button.
<img src="/images/war-cost/cloudwatch-agent-connect-ec2.png" alt="/images/war-cost/cloudwatch-agent-connect-ec2.png"></p>
</li>
<li>
<p>Copy connect info in Connect to your instance
<img src="/images/war-cost/cloudwatch-agent-connect-ec2-info.png" alt="/images/war-cost/cloudwatch-agent-connect-ec2.png"></p>
</li>
<li>
<p>This Command Line need when connect bastionhost. copy to notepad.</p>
<ol>
<li>EC2 are in PrivateSubnet, they cannot be accessed directly from outside the VPC.Use BastionHost to access EC2. Let&rsquo;s copy the pem key used by EC2 to bastionhost.</li>
</ol>

<div class="notices warning" ><pre><code>You need to change the permissions of the .pem file. Enter chmod 400 &lt;path.pem&gt; to change the file permissions.
</code></pre>
</div>

</li>
<li>
<p>Enter the command below at the location of the pem key on the terminal.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh -i &lt;pem path&gt; &lt;pem filename&gt; ec2-user@&lt;bastionhost-public-dns&gt;:~
</code></pre></div><p>``</p>
<ul>
<li>
<p><strong>pem-path</strong> : Enter the path of the key pair(.pem) used by EC2.</p>
</li>
<li>
<p><strong>pem-filename</strong> : Enter the name of the pem file to the copy location. (Enter the same as before.)</p>
</li>
<li>
<p><strong>bastionhost-public-dns</strong> : Click on CloudFormation&rsquo;s output and you can see bastionhostdns. Or, you can check the public dns of bastionhost of the ec2 instance.</p>
<ul>
<li>
<p><em>Find it on the EC2 dashboard</em>
<img src="/images/war-cost/cloudwatch-agent-bastionhost-ec2-dns.png" alt="/images/war-cost/cloudwatch-agent-bstionhost.png"></p>
</li>
<li>
<p><em>Find it on Cloudformation output</em>
<img src="/images/war-cost/cloudwatch-agent-bastionhsotdns.png" alt="/images/war-cost/cloudwatch-agent-bstionhost.png"></p>
</li>
</ul>
</li>
</ul>
<p>Example) Please enter in the form below.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">scp -i ./warworkshopkey.pem warworkshopkey.pem ec2-user@ec2-3-210-197-135.compute-1.amazonaws.com:~
</code></pre></div><p>``</p>
</li>
<li>
<p>Upload is completed with the following message.
<img src="/images/war-cost/cloudwatch-agent-install-key.png" alt="/images/war-cost/cloudwatch-agent-connect-ec2.png"></p>
</li>
<li>
<p>Open <strong>EC2 Dashboard</strong>, go to <strong>Instances</strong> and Click EC2 instance which name <strong>BastionHost</strong>.
Click <strong>Connect</strong> button.
<img src="/images/war-cost/cloudwatch-agent-bstionhost.png" alt="/images/war-cost/cloudwatch-agent-bstionhost.png"></p>
</li>
<li>
<p>Click <strong>browser-based SSH connection tool</strong> in the newly opened dialog box, click ʻec2-user` as the User name, and click Connect.
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall04.png" alt="Images/MemInstall04.png">
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall05.png" alt="Images/MemInstall05.png"></p>
</li>
<li>
<p>If you type ls in the terminal, you can check the copied pem.
<img src="/images/war-cost/cloudwatch-agent-pem.png" alt="/images/war-cost/cloudwatch-agent-bstionhost.png"></p>
</li>
<li>
<p>You can access the EC2 by pasting the copied EC2 connection information. You can check the changed ip of ec2-user in terminal shell Now, let&rsquo;s install Cloudwatch-agent in earnest.
<img src="/images/war-cost/cloudwatch-agent-ec2.png" alt="/images/war-cost/cloudwatch-agent-bstionhost.png"></p>
</li>
<li>
<p>Download the <strong>Amazon Cloudwatch</strong> agent package, the instructions below are for Amazon Linux, for other OS please check <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/download-cloudwatch-agent-commandline.html">here</a></p>
<pre><code>wget https://s3.amazonaws.com/amazoncloudwatch-agent/linux/amd64/latest/AmazonCloudWatchAgent.zip
</code></pre><p>``</p>
<p><img src="/cost/200_aws_resource_optimization/Images/AgentInstall06.png" alt="Images/MemInstall06.png"></p>
</li>
<li>
<p>Unzip and Install the package</p>
<pre><code>unzip AmazonCloudWatchAgent.zip
sudo ./install.sh
</code></pre><p>``</p>
<p><img src="/cost/200_aws_resource_optimization/Images/AgentInstall07.png" alt="Images/MemInstall07.png"></p>
</li>
<li>
<p>Configure the AmazonCloudWatchAgent profile</p>
<p>Before running the CloudWatch agent on any servers, you must create a CloudWatch agent configuration file, which is a JSON file that specifies the metrics and logs that the agent is to collect, including custom metrics. You can create it by using the wizard or by writting it yourself from scratch. Any time you change the agent configuration file, you must then restart the agent to have the changes take effect.</p>
<p>The wizard can autodetect the credentials and AWS Region to use if you have the AWS credentials and configuration files in place. For more information about these files, see <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-config-files.html">Configuration and Credential Files</a> in the <em>AWS Systems Manager User Guide</em> and the <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/create-cloudwatch-agent-configuration-file.html">AWS documentation page</a>.</p>
<p>For now, let&rsquo;s start the CloudWatch agent configuration file wizard executing the command below at the selected EC2 instance.</p>
<pre><code>sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard
</code></pre><p>``</p>
<p><img src="/cost/200_aws_resource_optimization/Images/AgentInstall08.png" alt="Images/MemInstall08.png"></p>
<p>For this lab we want to keep the following structure:</p>
<table>
<thead>
<tr>
<th>CloudWatch Agent Configutation File Wizard</th>
<th style="text-align:center">Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>On which OS are you planning to use the agent?</td>
<td style="text-align:center">1. Linux</td>
</tr>
<tr>
<td>Are you using EC2 or On-Premises hosts?</td>
<td style="text-align:center">1. EC2</td>
</tr>
<tr>
<td>Which user are you planning to run the agent?</td>
<td style="text-align:center">2. cwagent</td>
</tr>
<tr>
<td>Do you want to turn on StatsD daemon?</td>
<td style="text-align:center">2. No</td>
</tr>
<tr>
<td>Do you want to monitor metrics from CollectD?</td>
<td style="text-align:center">2. No</td>
</tr>
<tr>
<td>Do you want to monitor any host metrics?</td>
<td style="text-align:center">1. Yes</td>
</tr>
<tr>
<td>Do you want to monitor cpu metrics per core?</td>
<td style="text-align:center">2. No</td>
</tr>
<tr>
<td>Do you want to add ec2 dimensions?</td>
<td style="text-align:center">1. Yes</td>
</tr>
<tr>
<td>Would you like to collect your metrics at high resolution?</td>
<td style="text-align:center">4. 60s</td>
</tr>
<tr>
<td>Which default metrics config do you want?</td>
<td style="text-align:center">1. Basic</td>
</tr>
<tr>
<td>Are you satisfied with the above config?</td>
<td style="text-align:center">1. Yes</td>
</tr>
<tr>
<td>Do you have any existing CloudWatch Log Agent?</td>
<td style="text-align:center">2. No</td>
</tr>
<tr>
<td>Do you want to monitor any log files?</td>
<td style="text-align:center">2. No</td>
</tr>
<tr>
<td>Do you want to store the config in the SSM parameter store?</td>
<td style="text-align:center">2. No</td>
</tr>
</tbody>
</table>
<p>The CloudWatch Agent config file should look like the following:</p>
<pre><code>{
    &quot;agent&quot;: {
            &quot;metrics_collection_interval&quot;: 60,
            &quot;run_as_user&quot;: &quot;cwagent&quot;
    },
    &quot;metrics&quot;: {
            &quot;append_dimensions&quot;: {
                &quot;AutoScalingGroupName&quot;: &quot;${aws:AutoScalingGroupName}&quot;,
                &quot;ImageId&quot;: &quot;${aws:ImageId}&quot;,
                &quot;InstanceId&quot;: &quot;${aws:InstanceId}&quot;,
                &quot;InstanceType&quot;: &quot;${aws:InstanceType}&quot;
            },
            &quot;metrics_collected&quot;: {
                &quot;disk&quot;: {
                    &quot;measurement&quot;: [
                        &quot;used_percent&quot;
                ],
                &quot;metrics_collection_interval&quot;: 60,
                    &quot;resources&quot;: [
                            &quot;*&quot;
                ]
            },
            &quot;mem&quot;: {
                    &quot;measurement&quot;: [
                        &quot;mem_used_percent&quot;
                    ],
                    &quot;metrics_collection_interval&quot;: 60
            }
        }
    }
}
</code></pre><p>``</p>
</li>
<li>
<p>Start the CloudWatch Agent</p>
<pre><code>sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -a fetch-config -m ec2 -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json -s
</code></pre><p>``</p>
<p><img src="/cost/200_aws_resource_optimization/Images/AgentInstall09.png" alt="Images/MemInstall09.png"></p>
<p>It may take up to 5 minutes for the metrics to become available, go back to the <strong>Amazon CloudWatch</strong> console page, under the <strong>Metrics</strong> session to validate that you are getting Memory information.</p>
<p>Click <strong>CWAgent</strong>:
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall10.png" alt="Images/MemInstall10.png"></p>
<p>Click <strong>ImageID,InstanceID,InstanceType</strong>:
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall11.png" alt="Images/MemInstall11.png"></p>
<p>Select the <strong>Instance</strong> from the list below:
<img src="/cost/200_aws_resource_optimization/Images/AgentInstall12.png" alt="Images/MemInstall12.png"></p>
<p>You have now completed the CloudWatch agent installation and will be able to monitor on Amazon CloudWatch the memory utilization of that instance.</p>
</li>
</ol>


<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/cost/200_aws_resource_optimization/3_attach_iamrole/" title="Attach CloudWatch IAM role to selected EC2 Instances"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/cost/200_aws_resource_optimization/5_ec2_updated_rec/" title="Updated Amazon EC2 Resource Optimization recommendations" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1605801280"></script>
    <script src="/js/perfect-scrollbar.min.js?1605801280"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1605801280"></script>
    <script src="/js/jquery.sticky.js?1605801280"></script>
    <script src="/js/featherlight.min.js?1605801280"></script>
    <script src="/js/highlight.pack.js?1605801280"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1605801280"></script>
    <script src="/js/learn.js?1605801280"></script>
    <script src="/js/hugo-learn.js?1605801280"></script>

    <link href="/mermaid/mermaid.css?1605801280" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1605801280"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

